-- ç¨³å¥ç‰ˆç¿»è¯‘ç³»ç»Ÿ
print("ğŸš€ å¼€å§‹åŠ è½½ç¨³å¥ç‰ˆç¿»è¯‘ç³»ç»Ÿ...")

-- åŸºç¡€ç¿»è¯‘è¡¨
local Translations = {
    ["BronxWare 99 Nights"] = "å¸ƒæœ—å…‹æ–¯è½¯ä»¶ 99å¤œ",
    ["Main"] = "ä¸»ç•Œé¢",
    ["Auto"] = "è‡ªåŠ¨",
    ["Teleport Options"] = "ä¼ é€é€‰é¡¹",
    ["Bring Items"] = "è·å–ç‰©å“",
    ["Player Options"] = "ç©å®¶é€‰é¡¹",
    ["Codmode"] = "ä¸Šå¸æ¨¡å¼",
    ["Spectate Players"] = "è§‚å¯Ÿç©å®¶",
    ["Fly (with Noclip)"] = "é£è¡Œï¼ˆé™„å¸¦ç©¿å¢™ï¼‰",
    ["Fly Speed"] = "é£è¡Œé€Ÿåº¦",
    ["80 studs/sec"] = "80 ç½—å¸ƒ/ç§’",
    ["Walkspeed"] = "è¡Œèµ°é€Ÿåº¦",
    ["16 Speed"] = "16 é€Ÿåº¦",
    ["å‘¼å‡º/éšè—é¼ æ ‡"] = "å‘¼å‡º/éšè—é¼ æ ‡",
    ["Instant Prompts"] = "å³æ—¶æç¤º",
    ["Auto Scrap Items"] = "è‡ªåŠ¨æ‹†è§£ç‰©å“",
    ["Auto Fuel Fire"] = "è‡ªåŠ¨æ·»åŠ ç‡ƒæ–™",
    ["Auto Crock Pot Main"] = "è‡ªåŠ¨ç‚–é”…",
    ["Auto Cook"] = "è‡ªåŠ¨çƒ¹é¥ª",
    ["Auto Consume Food"] = "è‡ªåŠ¨é£Ÿç”¨é£Ÿç‰©",
    ["Auto Chop Trees"] = "è‡ªåŠ¨ç æ ‘",
    ["Auto Chop"] = "è‡ªåŠ¨ç ä¼",
    ["Chop Range"] = "ç ä¼èŒƒå›´",
    ["100 studs"] = "100 ç½—å¸ƒ",
    ["Auto Plant Trees"] = "è‡ªåŠ¨ç§æ¤æ ‘æœ¨",
    ["Use auto chop then click auto plant trees and wait for it to load then it will auto plant"] = "ä½¿ç”¨è‡ªåŠ¨ç ä¼åç‚¹å‡»è‡ªåŠ¨ç§æ ‘ï¼Œç­‰å¾…åŠ è½½å®Œæˆå³å¯è‡ªåŠ¨ç§æ¤",
    ["Auto Plant Saplings in Circle"] = "åœ†å½¢è‡ªåŠ¨ç§æ¤æ ‘è‹—",
    ["Planting Radius"] = "ç§æ¤åŠå¾„",
    ["Tree Spacing"] = "æ ‘æœ¨é—´è·",
    ["3.5 studs"] = "3.5 ç½—å¸ƒ",
    ["Chest Selector"] = "ç®±å­é€‰æ‹©å™¨",
    ["None"] = "æ— ",
    ["Volcanic Chest1"] = "ç«å±±ç®±å­1",
    ["Refresh Chest List"] = "åˆ·æ–°ç®±å­åˆ—è¡¨",
    ["Teleport To Chest"] = "ä¼ é€åˆ°ç®±å­",
    ["Player Teleport"] = "ç©å®¶ä¼ é€",
    ["Select Player"] = "é€‰æ‹©ç©å®¶",
    ["Refresh Player List"] = "åˆ·æ–°ç©å®¶åˆ—è¡¨",
    ["Selective Player"] = "é€‰æ‹©ç©å®¶",
    ["Anvil Teleports"] = "é“ç §ä¼ é€",
    ["Teleport Location"] = "ä¼ é€ä½ç½®",
    ["Anvil Front"] = "é“ç §å‰æ–¹",
    ["Teleport"] = "ä¼ é€",
    ["Kids Teleport"] = "å­©å­ä¼ é€",
    ["Teleport to Dino Kid"] = "ä¼ é€åˆ°æé¾™å­©å­",
    ["Teleport to Kraken Kid"] = "ä¼ é€åˆ°æµ·æ€ªå­©å­",
    ["Teleport to Squid Kid"] = "ä¼ é€åˆ°ä¹Œè´¼å­©å­",
    ["Teleport to Koala Kid"] = "ä¼ é€åˆ°è€ƒæ‹‰å­©å­",
    ["Item Category"] = "ç‰©å“åˆ†ç±»",
    ["Fuel"] = "ç‡ƒæ–™",
    ["Pelt"] = "æ¯›çš®",
    ["Seeds"] = "ç§å­",
    ["Armour"] = "ç›”ç”²",
    ["Select Item"] = "é€‰æ‹©ç‰©å“",
    ["åœæ­¢/éšè—å›¾æ ‡"] = "åœæ­¢/éšè—å›¾æ ‡",
    ["Chair"] = "æ¤…å­",
    ["Biofuel"] = "ç”Ÿç‰©ç‡ƒæ–™",
    ["Coal"] = "ç…¤ç‚­",
    ["Food"] = "é£Ÿç‰©",
    ["Ammo"] = "å¼¹è¯",
    ["Scrap"] = "åºŸæ–™",
    ["Fuel Canister"] = "ç‡ƒæ–™ç½",
    ["Oil Barrel"] = "æ²¹æ¡¶",
    ["Log"] = "åŸæœ¨",
    ["Sacks"] = "è¢‹å­",
    ["Healing"] = "æ²»ç–—",
    ["Wolf Corpse"] = "ç‹¼å°¸ä½“",
    ["Alpha Wolf Corpse"] = "å¤´ç‹¼å°¸ä½“",
    ["Bear Corpse"] = "ç†Šå°¸ä½“",
    ["Sapling"] = "æ ‘è‹—",
    ["Bring Selected Item"] = "è·å–é€‰å®šç‰©å“",
    ["Fishing Options"] = "é’“é±¼é€‰é¡¹",
    ["Instant Catch"] = "å³æ—¶æ•è·",
    ["Fishable Area ESP"] = "å¯é’“é±¼åŒºåŸŸESP",
    ["Fishing Zone"] = "é’“é±¼åŒºåŸŸ",
    ["Water (Zone #1)"] = "æ°´åŸŸï¼ˆåŒºåŸŸ #1ï¼‰",
    ["Water (Zone #2)"] = "æ°´åŸŸï¼ˆåŒºåŸŸ #2ï¼‰",
    ["Water (Zone #3)"] = "æ°´åŸŸï¼ˆåŒºåŸŸ #3ï¼‰",
    ["Teleport to Zone"] = "ä¼ é€åˆ°åŒºåŸŸ",
    ["Refresh Zones"] = "åˆ·æ–°åŒºåŸŸ",
    ["Teleport to Fishing Hut"] = "ä¼ é€åˆ°é’“é±¼å°å±‹",
}

-- åˆ›å»ºçŠ¶æ€ç›‘æ§UI
local function createStatusUI()
    print("ğŸ–¥ï¸ åˆ›å»ºçŠ¶æ€ç›‘æ§UI...")
    
    local players = game:GetService("Players")
    local player = players.LocalPlayer
    local playerGui = player:WaitForChild("PlayerGui")
    
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "TranslationStatusUI"
    screenGui.Parent = playerGui
    
    local mainFrame = Instance.new("Frame")
    mainFrame.Size = UDim2.new(0, 350, 0, 200)
    mainFrame.Position = UDim2.new(0, 10, 0, 10)
    mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    mainFrame.BorderSizePixel = 2
    mainFrame.BorderColor3 = Color3.fromRGB(100, 100, 255)
    mainFrame.Parent = screenGui
    
    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, 0, 0, 30)
    title.Position = UDim2.new(0, 0, 0, 0)
    title.BackgroundColor3 = Color3.fromRGB(60, 60, 100)
    title.Text = "ğŸ”§ ç¿»è¯‘ç³»ç»Ÿç›‘æ§é¢æ¿"
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.TextScaled = true
    title.Parent = mainFrame
    
    local statusLabel = Instance.new("TextLabel")
    statusLabel.Size = UDim2.new(1, 0, 0, 120)
    statusLabel.Position = UDim2.new(0, 0, 0, 30)
    statusLabel.BackgroundTransparency = 1
    statusLabel.Text = "ç³»ç»Ÿå¯åŠ¨ä¸­..."
    statusLabel.TextColor3 = Color3.fromRGB(255, 255, 0)
    statusLabel.TextScaled = true
    statusLabel.TextWrapped = true
    statusLabel.Parent = mainFrame
    
    local buttonFrame = Instance.new("Frame")
    buttonFrame.Size = UDim2.new(1, 0, 0, 50)
    buttonFrame.Position = UDim2.new(0, 0, 0, 150)
    buttonFrame.BackgroundTransparency = 1
    buttonFrame.Parent = mainFrame
    
    local loadButton = Instance.new("TextButton")
    loadButton.Size = UDim2.new(0.45, 0, 0.8, 0)
    loadButton.Position = UDim2.new(0.025, 0, 0.1, 0)
    loadButton.BackgroundColor3 = Color3.fromRGB(0, 150, 50)
    loadButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    loadButton.Text = "åŠ è½½å¤–éƒ¨è„šæœ¬"
    loadButton.Parent = buttonFrame
    
    local translateButton = Instance.new("TextButton")
    translateButton.Size = UDim2.new(0.45, 0, 0.8, 0)
    translateButton.Position = UDim2.new(0.525, 0, 0.1, 0)
    translateButton.BackgroundColor3 = Color3.fromRGB(0, 100, 200)
    translateButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    translateButton.Text = "æ‰§è¡Œç¿»è¯‘"
    translateButton.Parent = buttonFrame
    
    return {
        ScreenGui = screenGui,
        StatusLabel = statusLabel,
        LoadButton = loadButton,
        TranslateButton = translateButton
    }
end

-- ç®€åŒ–çš„ç¿»è¯‘å‡½æ•°
local translationCache = {}
local function translateText(text)
    if not text or type(text) ~= "string" then return text end
    if translationCache[text] then return translationCache[text] end
    
    if Translations[text] then
        translationCache[text] = Translations[text]
        print("âœ… ç¿»è¯‘: " .. text .. " -> " .. Translations[text])
        return Translations[text]
    end
    
    return text
end

-- GUIæ‰«æå‡½æ•°
local processedElements = {}
local function scanAndTranslateGui(parent, depth)
    if depth > 10 then return end -- é˜²æ­¢æ— é™é€’å½’
    
    for _, child in ipairs(parent:GetChildren()) do
        -- æ£€æŸ¥æ˜¯å¦æ˜¯æ–‡æœ¬å…ƒç´ 
        if child:IsA("TextLabel") or child:IsA("TextButton") or child:IsA("TextBox") then
            if not processedElements[child] and child.Text and child.Text ~= "" then
                local translated = translateText(child.Text)
                if translated ~= child.Text then
                    pcall(function()
                        child.Text = translated
                        processedElements[child] = true
                    end)
                end
            end
        end
        
        -- é€’å½’æ‰«æå­å…ƒç´ 
        if #child:GetChildren() > 0 then
            scanAndTranslateGui(child, depth + 1)
        end
    end
end

-- åŠ è½½å¤–éƒ¨è„šæœ¬å‡½æ•°
local function loadExternalScript(updateStatus)
    updateStatus("ğŸ”„ æ­£åœ¨åŠ è½½å¤–éƒ¨è„šæœ¬...")
    print("ğŸ”„ åŠ è½½å¤–éƒ¨è„šæœ¬...")
    
    local success, err = pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Seriously56/99-Nights/refs/heads/main/99%20nights", true))()
    end)
    
    if success then
        updateStatus("âœ… å¤–éƒ¨è„šæœ¬åŠ è½½æˆåŠŸ!\nç­‰å¾…ç•Œé¢åˆ›å»º...")
        print("âœ… å¤–éƒ¨è„šæœ¬åŠ è½½æˆåŠŸ")
        
        -- ç­‰å¾…ç•Œé¢åˆ›å»º
        for i = 1, 10 do
            updateStatus("âœ… å¤–éƒ¨è„šæœ¬åŠ è½½æˆåŠŸ!\nç­‰å¾…ç•Œé¢åˆ›å»º... (" .. i .. "/10)")
            task.wait(1)
        end
        
        return true
    else
        updateStatus("âŒ å¤–éƒ¨è„šæœ¬åŠ è½½å¤±è´¥:\n" .. tostring(err))
        print("âŒ å¤–éƒ¨è„šæœ¬åŠ è½½å¤±è´¥: " .. tostring(err))
        return false
    end
end

-- æ‰§è¡Œç¿»è¯‘å‡½æ•°
local function executeTranslation(updateStatus)
    updateStatus("ğŸ” æ‰«æå¹¶ç¿»è¯‘ç•Œé¢...")
    print("ğŸ” å¼€å§‹æ‰«æç•Œé¢...")
    
    -- æ‰«æCoreGui
    local coreGui = game:GetService("CoreGui")
    scanAndTranslateGui(coreGui, 0)
    
    -- æ‰«æPlayerGui
    local players = game:GetService("Players")
    local player = players.LocalPlayer
    local playerGui = player:FindFirstChild("PlayerGui")
    if playerGui then
        scanAndTranslateGui(playerGui, 0)
    end
    
    -- æ‰«æWorkspaceä¸­çš„GUI
    for _, obj in ipairs(workspace:GetDescendants()) do
        if obj:IsA("SurfaceGui") or obj:IsA("BillboardGui") then
            scanAndTranslateGui(obj, 0)
        end
    end
    
    local translatedCount = 0
    for _ in pairs(processedElements) do
        translatedCount = translatedCount + 1
    end
    
    updateStatus("âœ… ç¿»è¯‘å®Œæˆ!\nå·²ç¿»è¯‘ " .. translatedCount .. " ä¸ªå…ƒç´ ")
    print("âœ… ç¿»è¯‘å®Œæˆ! å·²ç¿»è¯‘ " .. translatedCount .. " ä¸ªå…ƒç´ ")
end

-- ä¸»åˆå§‹åŒ–å‡½æ•°
local function main()
    print("ğŸš€ ä¸»åˆå§‹åŒ–å¼€å§‹...")
    
    -- åˆ›å»ºçŠ¶æ€UI
    local ui = createStatusUI()
    
    -- æ›´æ–°çŠ¶æ€å‡½æ•°
    local function updateStatus(message)
        pcall(function()
            ui.StatusLabel.Text = message
        end)
        print("ğŸ“¢ " .. message)
    end
    
    updateStatus("ğŸŸ¢ ç³»ç»Ÿå°±ç»ª\nç‚¹å‡»æŒ‰é’®å¼€å§‹æ“ä½œ")
    
    -- è®¾ç½®æŒ‰é’®äº‹ä»¶
    ui.LoadButton.MouseButton1Click:Connect(function()
        task.spawn(function()
            loadExternalScript(updateStatus)
        end)
    end)
    
    ui.TranslateButton.MouseButton1Click:Connect(function()
        task.spawn(function()
            executeTranslation(updateStatus)
        end)
    end)
    
    -- è‡ªåŠ¨å°è¯•åŠ è½½å¤–éƒ¨è„šæœ¬
    task.spawn(function()
        task.wait(3)
        updateStatus("â³ 3ç§’åè‡ªåŠ¨å°è¯•åŠ è½½å¤–éƒ¨è„šæœ¬...")
        task.wait(3)
        
        local success = loadExternalScript(updateStatus)
        
        if success then
            task.wait(2)
            updateStatus("â³ è‡ªåŠ¨æ‰§è¡Œç¿»è¯‘...")
            task.wait(1)
            executeTranslation(updateStatus)
        end
    end)
    
    print("ğŸ‰ ä¸»åˆå§‹åŒ–å®Œæˆ")
end

-- å¯åŠ¨ç³»ç»Ÿ
task.spawn(main)

print("ğŸ¯ ç¨³å¥ç‰ˆç¿»è¯‘ç³»ç»ŸåŠ è½½å®Œæˆ")
